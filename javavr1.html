<!DOCTYPE html>
<html lang="en">
<head>
    <title>Interactive VR Scene</title>
    <meta charset="UTF-8">
    <style>
        body {
            margin: 0;
            overflow: hidden;
        }
    </style>
    <script src="https://cdn.jsdelivr.net/npm/three@0.152.0/build/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.152.0/examples/js/webxr/VRButton.js"></script>
</head>
<body>
    <script>
        // Debugging: Check for WebXR support
        if (!navigator.xr) {
            console.error("WebXR is not supported in this browser.");
            document.body.innerHTML = "<h1 style='color: red;'>WebXR is not supported in this browser. Please check your browser settings or try a different browser.</h1>";
        } else {
            console.log("WebXR is supported in this browser.");
        }

        try {
            // Set up the scene, camera, and renderer
            const scene = new THREE.Scene();
            const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
            const renderer = new THREE.WebGLRenderer({ antialias: true });
            renderer.setSize(window.innerWidth, window.innerHeight);
            renderer.xr.enabled = true;
            document.body.appendChild(renderer.domElement);

            // Add the VR Button
            const vrButton = VRButton.createButton(renderer);
            document.body.appendChild(vrButton);
            console.log("VR Button added to the page.");

            // Add lighting
            const light = new THREE.DirectionalLight(0xffffff, 1);
            light.position.set(1, 1, 1).normalize();
            scene.add(light);

            // Add a rotating cube
            const geometry = new THREE.BoxGeometry();
            const material = new THREE.MeshStandardMaterial({ color: 0x00ff00 });
            const cube = new THREE.Mesh(geometry, material);
            cube.position.set(0, 1.5, -3);
            scene.add(cube);
            console.log("Rotating cube added to the scene.");

            // Animation loop
            function animate() {
                renderer.setAnimationLoop(() => {
                    cube.rotation.x += 0.01;
                    cube.rotation.y += 0.01;
                    renderer.render(scene, camera);
                });
            }
            animate();
            console.log("Animation loop started successfully.");
        } catch (error) {
            console.error("An error occurred:", error);
        }
    </script>
</body>
</html>
